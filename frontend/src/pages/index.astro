---
import { useSanityClient } from 'astro-sanity';
import HtmlWrapper from '../layouts/HtmlWrapper.astro';
import { Hero } from '../components/ui/Hero';

const posts = await useSanityClient().fetch('*[_type == "post"]');

---

<HtmlWrapper>
  <Hero client:only />
  {posts && <ul>
    {posts.map((post) => (
      <li><a href={`post/${post.slug.current}`}>{post.title}</a></li>
    ))}
  </ul>}
</HtmlWrapper>
